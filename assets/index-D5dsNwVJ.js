(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();class N{renderGameField(t,e,n){let i=document.createElement("table"),o=document.querySelector(n);for(let a=0;a<t;a++){let l=document.createElement("tr");for(let h=0;h<e;h++){let p=document.createElement("td"),g=document.createElement("span");p.append(g),l.append(p)}i.append(l)}o.append(i)}}const b=new N;class F{fillRandomEmptyCell(t){let e=document.querySelectorAll("td");for(let n=0;n<=81;n++)m.randomMinMax(0,100)<t&&e[n]&&(e[n].firstElementChild.innerHTML+=`
                        <div class="hidden-element">
                            <span></span>
                        </div>
                    `)}gameLevel(t){t=="easy"&&this.fillRandomEmptyCell(50),t=="medium"&&this.fillRandomEmptyCell(60),t=="hard"&&this.fillRandomEmptyCell(70)}listenerForTd(){document.addEventListener("click",t=>{let e=t.target.closest(".hidden-element");if(!e)return;let n=document.querySelectorAll(".hidden-element"),i=e.parentNode.parentNode.parentNode.childNodes,o=document.querySelectorAll("td"),a="";for(let l of n)l.classList.contains("clicked")&&l.classList.remove("clicked"),l.classList.contains("illumination")&&(l.classList.remove("illumination"),l.parentNode.parentNode.classList.remove("illumination"));e.classList.add("clicked");for(let l=0;l<o.length;l++)o[l].firstElementChild.firstElementChild==e&&(a=l),o[l].classList.contains("illumination")&&o[l].classList.remove("illumination");for(;a>=9;)a=a-9;for(let l=a;l<o.length;l=l+9)console.log(l),o[l].classList.add("illumination"),o[l].firstElementChild.firstElementChild&&o[l].firstElementChild.firstElementChild!=e&&o[l].firstElementChild.firstElementChild.classList.add("illumination");for(let l of i)l.classList.add("illumination"),l.firstElementChild.firstElementChild&&l.firstElementChild.firstElementChild!=e&&l.firstElementChild.firstElementChild.classList.add("illumination")})}listenerForNumpad(){let t=document.querySelectorAll(".sudoku__numpad-item");for(let e of t)e.addEventListener("click",function(){let n=document.querySelector(".clicked");if(t[0].parentNode.getAttribute("data-playing")=="false"&&(m.addTimer(),m.pause(),t[0].parentNode.setAttribute("data-playing","true")),n){n.classList.remove("error"),n.firstElementChild.textContent=e.firstElementChild.textContent;let i=n.parentNode.textContent.replace(/\s/g,"");if(i[0]!=i[1]&&(n.classList.add("error")+NumError.textContent++,NumError.textContent=="3")){let o=document.querySelector(".active");m.gameOver(o.textContent.toLowerCase())}}})}listenerForLevelButtons(){let t=document.getElementById("levelEasy"),e=document.getElementById("levelMedium"),n=document.getElementById("levelHard"),i=document.querySelectorAll(".sudoku__level-button");t.addEventListener("click",function(){if(confirm("the progress of the current game will be lost")){for(let a of i)a.classList.remove("active");NumError.textContent="0",m.gameRestart("easy"),t.classList.add("active")}}),e.addEventListener("click",function(){if(confirm("the progress of the current game will be lost")){for(let a of i)a.classList.remove("active");NumError.textContent="0",m.gameRestart("medium"),e.classList.add("active")}}),n.addEventListener("click",function(){if(confirm("the progress of the current game will be lost")){for(let a of i)a.classList.remove("active");NumError.textContent="0",m.gameRestart("hard"),n.classList.add("active")}})}listenerForNewGame(){document.querySelector(".sudoku__button").addEventListener("click",function(){let e=document.querySelector(".active");confirm("do you want to start a new game?")&&(NumError.textContent="0",m.gameRestart(e.textContent.toLowerCase()))})}}const f=new F;class S{constructor(){this.timerId="1",this.flag=!0,this.stopTimer=!1}random(t){let e=0,n=e-.5+Math.random()*(t-e+1);return Math.round(n)}randomMinMax(t,e){let n=(t-.5+Math.random()*(e-t+.5)).toFixed();return Math.round(n)}gameOver(t){confirm("game over! Do you want start a new game?")&&this.gameRestart(t)}gameRestart(t){clearInterval(this.timerId),NumError.textContent="0",minutes.textContent="00",seconds.textContent="00",E.createFullGameField();for(let e of document.querySelectorAll(".illumination"))e.classList.remove("illumination");f.gameLevel(t),document.querySelector(".sudoku__numpad").setAttribute("data-playing","false")}addTimer(){let t=0,e=0;this.timerId=setInterval(()=>{if(!this.stopTimer){if(t<10){let n="0"+t;seconds.textContent=n,t++}t<60&t>=10&&(seconds.textContent=t,t++),t==59&&(e++,e<10?minutes.textContent="0"+e:minutes.textContent=e,t=0)}},1e3)}pause(t,e){let n=document.getElementById("pause"),i=document.getElementById("play"),o=document.querySelector(".sudoku__field"),a="";n.addEventListener("click",()=>{n.classList.add("_hidden"),i.classList.remove("_hidden"),this.stopTimer=!0;let l=document.createElement("div");l.classList.add("_pause"),o.append(l),l.addEventListener("click",a)}),i.addEventListener("click",a=()=>{i.classList.add("_hidden"),n.classList.remove("_hidden"),this.stopTimer=!1,o.removeChild(o.lastElementChild)})}}const m=new S;class ${addMarkup(){let t=document.querySelectorAll("tr"),e=document.querySelectorAll("td");t[3].style.borderTop="2px solid black",t[6].style.borderTop="2px solid black";for(let n=2;n<e.length;n=n+9)e[n].style.borderRight="2px solid black";for(let n=5;n<e.length;n=n+9)e[n].style.borderRight="2px solid black"}addBaseField(){let t=document.querySelectorAll("td"),e=document.querySelectorAll("tr");console.log(t);let n=[],i=[],o=[],a=[],l=[],h=[],p=[],g=[],v=[],s=[1,2,3,4,5,6,7,8,9];function y(x){let r=x;for(let L=1;L<28;L++){let u=function(){let d=m.random(s.length-1);if(r%9==1){if(n.includes(s[d]))return u();console.log(`
                            numberStr: 1,
                            arr: ${e[0].textContent},
                            randomNum: ${d},
                        `)}if(r%9==2){if(i.includes(s[d]))return u();console.log(`
                            numberStr: 2,
                            arr: ${e[1].textContent},
                            currentNum: ${d},
                        `)}if(r%9==3){if(o.includes(s[d]))return u();console.log(`
                            numberStr: 3,
                            arr: ${e[2].textContent},
                            currentNum: ${d},
                        `)}if(r%9==4){if(a.includes(s[d]))return u();console.log(`
                            numberStr: 4,
                            arr: ${e[3].textContent},
                            currentNum: ${d},
                        `)}if(r%9==5){if(l.includes(s[d]))return u();console.log(`
                            numberStr: 5,
                            arr: ${e[4].textContent},
                            currentNum: ${d},
                        `)}if(r%9==6){if(h.includes(s[d]))return u();console.log(`
                            numberStr: 6,
                            arr: ${e[5].textContent},
                            currentNum: ${d},
                        `)}if(r%9==7){if(p.includes(s[d]))return u();console.log(`
                            numberStr: 7,
                            arr: ${e[6].textContent},
                            currentNum: ${d},
                        `)}if(r%9==8){if(g.includes(s[d]))return u();console.log(`
                            numberStr: 8,
                            arr: ${e[7].textContent},
                            currentNum: ${d},
                        `)}if(r%9==0){if(v.includes(s[d]))return u();console.log(`
                            numberStr: 9,
                            arr: ${e[8].textContent},
                            currentNum: ${d},
                        `)}return r>=1&&r<=9&&e[0].textContent.includes(`${s[d]}`)||r>=10&&r<=18&&e[1].textContent.includes(`${s[d]}`)||r>=19&&r<=27&&e[2].textContent.includes(`${s[d]}`)||r>=28&&r<=36&&e[3].textContent.includes(`${s[d]}`)||r>=37&&r<=45&&e[4].textContent.includes(`${s[d]}`)||r>=46&&r<=54&&e[5].textContent.includes(`${s[d]}`)||r>=55&&r<=63&&e[6].textContent.includes(`${s[d]}`)||r>=64&&r<=72&&e[7].textContent.includes(`${s[d]}`)||r>=73&&r<=81&&e[8].textContent.includes(`${s[d]}`)?u():d};var w=u;r++;let c=u();console.log(c),console.log("ПРОВЕРКА"),r%9==1&&n.push(s[c]),r%9==2&&i.push(s[c]),r%9==3&&o.push(s[c]),r%9==4&&a.push(s[c]),r%9==5&&l.push(s[c]),r%9==6&&h.push(s[c]),r%9==7&&p.push(s[c]),r%9==8&&g.push(s[c]),r%9==0&&v.push(s[c]),t[r-1].firstElementChild.textContent=s[c],s.splice(s.indexOf(s[c]),1),r%3==0&&(r+=6),s.length==0&&(s=[1,2,3,4,5,6,7,8,9])}}y(0),y(3),y(6)}clearField(){let t=document.querySelectorAll("td");for(let e=0;e<81;e++)t[e].firstElementChild.textContent=""}createFullGameField(){try{this.addBaseField()}catch{this.clearField(),this.createFullGameField()}}}const E=new $;b.renderGameField(9,9,".sudoku__field");E.addMarkup();E.createFullGameField();f.gameLevel("easy");f.listenerForTd();f.listenerForNumpad();f.listenerForLevelButtons();f.listenerForNewGame();
